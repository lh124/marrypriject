<!DOCTYPE html>
<html>
<head>
<title></title>
#parse("sys/header.html")
</head>
<body>
<input type="hidden" id="id" value="${request.getParameter('id')}">
<div class="modal fade" id="myModal">  
  <div class="modal-dialog modal-sm">  
      <img alt="" src="data:image/gif;base64,R0lGODlhGQAZAJECAK7PTQBjpv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5OTYyNTQ4Ni02ZGVkLTI2NDUtODEwMy1kN2M4ODE4OWMxMTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUNGNUFGRUFGREFCMTFFM0FCNzVDRjQ1QzI4QjFBNjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RUNGNUFGRTlGREFCMTFFM0FCNzVDRjQ1QzI4QjFBNjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk5NjI1NDg2LTZkZWQtMjY0NS04MTAzLWQ3Yzg4MTg5YzExNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5OTYyNTQ4Ni02ZGVkLTI2NDUtODEwMy1kN2M4ODE4OWMxMTQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQFCgACACwAAAAAGQAZAAACTpSPqcu9AKMUodqLpAb0+rxFnWeBIUdixwmNqRm6JLzJ38raqsGiaUXT6EqO4uIHRAYQyiHw0GxCkc7l9FdlUqWGKPX64mbFXqzxjDYWAAAh+QQFCgACACwCAAIAFQAKAAACHYyPAsuNH1SbME1ajbwra854Edh5GyeeV0oCLFkAACH5BAUKAAIALA0AAgAKABUAAAIUjI+py+0PYxO0WoCz3rz7D4bi+BUAIfkEBQoAAgAsAgANABUACgAAAh2EjxLLjQ9UmzBNWo28K2vOeBHYeRsnnldKBixZAAA7" />  
      <span id="progressShow"></span>
  </div><!-- /.modal-dialog -->  
</div><!-- /.modal --> 
<div id="rrapp" v-cloak>
	<div v-show="showList">
		<div class="grid-btn">
			<div class="form-group col-sm-4">
				<!-- <input type="text" class="form-control" v-model="q.username" @keyup.enter="query" placeholder="用户名"> -->
				<select id="province">
					<option>---省---</option>
				</select>
				<select id="city">
					<option>---市---</option>
				</select>
				<select id="school">
					<option>---学校---</option>
				</select>
				<select id="college">
					<option>---学院---</option>
				</select>
				<select id="graduationTimeId">
					<option>---毕业时间---</option>
				</select>
			</div>
			<a class="btn btn-default" @click="myquery">查询</a>
			#if($shiro.hasPermission("photoclass:save"))
			<a class="btn btn-primary" @click="add"><i class="fa fa-plus"></i>&nbsp;新增</a>
			#end
			#if($shiro.hasPermission("photoclass:update"))
			<a class="btn btn-primary" @click="update"><i class="fa fa-pencil-square-o"></i>&nbsp;修改</a>
			#end
			#if($shiro.hasPermission("photoclass:delete"))
			<a class="btn btn-primary" @click="del"><i class="fa fa-trash-o"></i>&nbsp;删除</a>
			#end
			#if($shiro.hasPermission("photofrontuser:list"))
			<a class="btn btn-primary" @click="addClassMember"><i class="fa fa-trash-o"></i>&nbsp;添加班级成员</a>
			#end
			#if($shiro.hasPermission("phototype:list"))
			<a class="btn btn-primary" @click="addClassPhotoType"><i class="fa fa-trash-o"></i>&nbsp;班级相册分类</a>
			#end
			<a class="btn btn-primary"  href="javascript:history.go(-1)">返回上一级</a>
		</div>
	    <table id="jqGrid"></table>
	    <div id="jqGridPager"></div>
    </div>
    
    <div v-show="!showList" class="panel panel-default">
		<div class="panel-heading">{{title}}</div>
		<form class="form-horizontal">
			<div class="form-group">
			   	<div class="col-sm-2 control-label">班级名</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="photoClass.name" placeholder="班级名"/>
			    </div>
			</div>
			<div class="form-group">
			   	<div class="col-sm-2 control-label">查看权限</div>
			   	<div class="col-sm-10">
			   		<select v-model="photoClass.perm">
			   			<option value="1">无需密码查看</option>
			   			<option value="2">需密码查看</option>
			   		</select>
			    </div>
			</div>
			<div class="form-group">
			   	<div class="col-sm-2 control-label">班级系统功能分类</div>
			   	<div class="col-sm-10">
			   		<select v-model="photoClass.classify">
			   			<option value="1">毕业照</option>
			   			<option value="2">智能校服</option>
			   		</select>
			    </div>
			</div>
			<div class="form-group">
			   	<div class="col-sm-2 control-label">班级状态</div>
			   	<div class="col-sm-10">
			   		<select v-model="photoClass.status">
			   			<option value="1">正常</option>
			   			<option value="2">禁用</option>
			   			<option value="3">隐藏</option>
			   		</select>
			    </div>
			</div>
			<div class="form-group">
			   	<div class="col-sm-2 control-label">班级描述</div>
			   	<div class="col-sm-10">
			   	  <textarea rows="12" cols="28" v-model="photoClass.classDesc"></textarea>
			      <!-- <input type="text" class="form-control" v-model="photoClass.classDesc" placeholder="班级描述"/> -->
			    </div>
			</div>
			<input type="hidden" id="myClassId" v-model="photoClass.id"/>
			<div class="form-group">
			   	<div class="col-sm-2 control-label">背景音乐</div>
			   	<div class="col-sm-10">
			       <input type="file" dataType="7"   id="{{photoClass.id}}" onchange="getFile(this);" />
			    </div>
			</div>
			<div class="form-group">
			   	<div class="col-sm-2 control-label">班级视频</div>
			   	<div class="col-sm-10">
			       <input type="file" dataType="10"   id="{{photoClass.id}}" onchange="getFile(this);" />
			    </div>
			</div>
			<div class="form-group">
			   	<div class="col-sm-2 control-label">班级logo</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="photoClass.logo" placeholder="班级logo"/>
			    </div>
			</div>
			<div class="form-group">
			   	<div class="col-sm-2 control-label">毕业时间</div>
			   	<div class="col-sm-10">
			   	  <select v-model="photoClass.graduationTimeId" id="myGraduateTime">
			   	  </select>
			    </div>
			</div>
			<div class="form-group">
			   	<div class="col-sm-2 control-label">所属学校</div>
			   	<div class="col-sm-10">
			   	  <select id="myprovince">
			   	  	<option >--省--</option>
			   	  </select>
			   	  <select id="mycity">
			   	  	<option >--市--</option>
			   	  </select>
			   	  <select v-model="photoClass.schoolId" id="mySchoolId">
			   	  	<option >--学校--</option>
			   	  </select>
			   	  <select id="myCollegeId" v-model="photoClass.collegeId">
			   	  	<option  >--院--</option>
			   	  </select>
			    </div>
			</div>
			<div class="form-group">
			   	<div class="col-sm-2 control-label">班级浏览密码</div>
			   	<div class="col-sm-10">
			      <input type="text" class="form-control" v-model="photoClass.password" placeholder="班级浏览密码"/>
			    </div>
			</div>
			<div class="form-group">
				<div class="col-sm-2 control-label"></div> 
				<input type="button" class="btn btn-primary" @click="saveOrUpdate" value="确定"/>
				&nbsp;&nbsp;<input type="button" class="btn btn-warning" @click="reload" value="返回"/>
			</div>
			<input type="hidden" id="selectfiles"/>
		</form>
	</div>
</div>

<script src="${rc.contextPath}/js/generator/photoclass.js?_${date.systemTime}"></script>
<script type="text/javascript" src="${fieldTool.STATIC_SOURCE_JS}plupload.full.min.js"></script>
<script type="text/javascript" src="${rc.contextPath}/js/oss/upload.js?_${date.systemTime}"></script>
<script src="https://cdn.bootcss.com/Ladda/1.0.0/spin.min.js"></script>
<script src="https://cdn.bootcss.com/Ladda/1.0.0/ladda.min.js"></script>
<script type="text/javascript">
	function myFormDateF(obj){
		var mydete = new FormData();
		mydete.append("type",$(obj).attr("dataType"));
		mydete.append("classId", $("#myClassId").val());
		
		return mydete;
	}
</script>
</body>
</html>