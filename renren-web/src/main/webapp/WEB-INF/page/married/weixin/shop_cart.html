<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <title>“码”上结婚</title>
    <link rel="stylesheet" href="${rc.contextPath}/statics/marry/css/weui.min.css"/>
    <link rel="stylesheet" href="${rc.contextPath}/statics/marry/css/marry.css"/>
    <script type="text/javascript" src="${rc.contextPath}/statics/marry/js/reset.js"></script>
    <script src="https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
</head>
<body ontouchstart style="background:#efefef;">
	<div class="container" id="container">
		<div class="page" id="pageContainer">
			<div style="flex:1;margin-bottom:2.8rem;">
				<div class="cart_con weui-panel weui-panel_access" style="margin-top:10px;">
					<div class="cart_tit">
						<p><span class="shangjia">伊人婚礼</span><span class="check_part">全选</span></p>
					</div>
					<div class="weui-panel__bd">
		                <a href="javascript:void(0);" class="weui-media-box weui-media-box_appmsg">
		                    <div class="weui-media-box__hd">
		                        <img class="weui-media-box__thumb" src="${rc.contextPath}/statics/marry/img/theme1.png" alt="">
		                    </div>
		                    <div class="weui-media-box__bd">
		                        <h4 class="weui-media-box__title">粉蓝密爱</h4>
		                        <p class="weui-media-box__desc">设计师</p>
		                        <p class="weui-media-box__desc">价格：<span class="sub">100</span></p>
		                        <div class="weui-cells_checkbox">
						            <label class="weui-check__label">
						                <div class="weui-cell__hd">
						                    <input type="checkbox" class="weui-check ck" name="checkbox1">
						                    <i class="weui-icon-checked"></i>
						                </div>
						            </label>
						        </div>
		                    </div>
		                </a>
		                <a href="javascript:void(0);" class="weui-media-box weui-media-box_appmsg">
		                    <div class="weui-media-box__hd">
		                        <img class="weui-media-box__thumb" src="${rc.contextPath}/statics/marry/img/theme1.png" alt="">
		                    </div>
		                    <div class="weui-media-box__bd">
		                        <h4 class="weui-media-box__title">粉蓝密爱</h4>
		                        <p class="weui-media-box__desc">设计师</p>
		                        <p class="weui-media-box__desc">价格：<span class="sub">1000</span></p>
		                        <div class="weui-cells_checkbox">
						            <label class="weui-check__label">
						                <div class="weui-cell__hd">
						                    <input type="checkbox" class="weui-check ck" name="checkbox1">
						                    <i class="weui-icon-checked"></i>
						                </div>
						            </label>
						        </div>
		                    </div>
		                </a>
		            </div>
				</div>
				<div class="cart_con weui-panel weui-panel_access" style="margin-top:10px;">
					<div class="cart_tit">
						<p><span class="shangjia">伊人婚礼</span><span class="check_part">全选</span></p>
					</div>
					<div class="weui-panel__bd">
		                <a href="javascript:void(0);" class="weui-media-box weui-media-box_appmsg">
		                    <div class="weui-media-box__hd">
		                        <img class="weui-media-box__thumb" src="${rc.contextPath}/statics/marry/img/theme1.png" alt="">
		                    </div>
		                    <div class="weui-media-box__bd">
		                        <h4 class="weui-media-box__title">粉蓝密爱</h4>
		                        <p class="weui-media-box__desc">设计师</p>
		                        <p class="weui-media-box__desc">价格：<span class="sub">100000</span></p>
		                        <div class="weui-cells_checkbox">
						            <label class="weui-check__label">
						                <div class="weui-cell__hd">
						                    <input type="checkbox" class="weui-check ck" name="checkbox1"/>
						                    <i class="weui-icon-checked"></i>
						                </div>
						            </label>
						        </div>
		                    </div>
		                </a>
		                <a href="javascript:void(0);" class="weui-media-box weui-media-box_appmsg">
		                    <div class="weui-media-box__hd">
		                        <img class="weui-media-box__thumb" src="${rc.contextPath}/statics/marry/img/theme1.png" alt="">
		                    </div>
		                    <div class="weui-media-box__bd">
		                        <h4 class="weui-media-box__title">粉蓝密爱</h4>
		                        <p class="weui-media-box__desc">设计师</p>
		                        <p class="weui-media-box__desc">价格：<span class="sub">1008</span></p>
		                        <div class="weui-cells_checkbox">
						            <label class="weui-check__label">
						                <div class="weui-cell__hd">
						                    <input type="checkbox" class="weui-check ck" name="checkbox1"/>
						                    <i class="weui-icon-checked"></i>
						                </div>
						            </label>
						        </div>
		                    </div>
		                </a>
		            </div>
				</div>
				<div class="cart_con weui-panel weui-panel_access" style="margin-top:10px;">
					<div class="cart_tit">
						<p><span class="shangjia">伊人婚礼</span><span  class="check_part">全选</span></p>
					</div>
					<div class="weui-panel__bd">
		                <a href="javascript:void(0);" class="weui-media-box weui-media-box_appmsg">
		                    <div class="weui-media-box__hd">
		                        <img class="weui-media-box__thumb" src="${rc.contextPath}/statics/marry/img/theme1.png" alt="">
		                    </div>
		                    <div class="weui-media-box__bd">
		                        <h4 class="weui-media-box__title">粉蓝密爱</h4>
		                        <p class="weui-media-box__desc">设计师</p>
		                        <p class="weui-media-box__desc">价格：<span class="sub">1050</span></p>
		                        <div class="weui-cells_checkbox">
						            <label class="weui-check__label">
						                <div class="weui-cell__hd">
						                    <input type="checkbox" class="weui-check ck" name="checkbox1"/>
						                    <i class="weui-icon-checked"></i>
						                </div>
						            </label>
						        </div>
		                    </div>
		                </a>
		                <a href="javascript:void(0);" class="weui-media-box weui-media-box_appmsg">
		                    <div class="weui-media-box__hd">
		                        <img class="weui-media-box__thumb" src="${rc.contextPath}/statics/marry/img/theme1.png" alt="">
		                    </div>
		                    <div class="weui-media-box__bd">
		                        <h4 class="weui-media-box__title">粉蓝密爱</h4>
		                        <p class="weui-media-box__desc">设计师</p>
		                        <p class="weui-media-box__desc">价格：<span class="sub">100</span></p>
		                        <div class="weui-cells_checkbox">
						            <label class="weui-check__label">
						                <div class="weui-cell__hd">
						                    <input type="checkbox" class="weui-check ck" name="checkbox1"/>
						                    <i class="weui-icon-checked"></i>
						                </div>
						            </label>
						        </div>
		                    </div>
		                </a>
		            </div>
				</div>
			</div>
			<div class="cart_total">
				<div class="cart_total_money">
					<div class="weui-cells weui-cells_checkbox cart_total_money_con">
			            <label class="weui-cell weui-check__label" for="ck_all">
			                <div class="weui-cell__hd">
			                    <input type="checkbox" class="weui-check" name="checkbox1" id="ck_all" />
			                    <i class="weui-icon-checked"></i>
			                </div>
			                <div class="weui-cell__bd">
			                    <p>全选<span>总金额：<i class="total">￥0</i></span></p>
			                </div>
			            </label>
			        </div>
				</div>
				<a href="confirm_order.html" class="cart_total_pay">
					结&nbsp;算
				</a>
			</div>
		</div>
	</div>
<script type="text/javascript">
	/*商家全选*/
	$(".check_part").on("click",function(){
		if($(this).parents(".cart_con").find(".ck").prop("checked")== false){
			$(this).parents(".cart_con").find(".ck").prop("checked",true);
		}else{
			$(this).parents(".cart_con").find(".ck").prop("checked",false);
		}
		allCheck();
		calcTotal();
	});
	/*单选*/
	$(".ck").on("click",function(){
		allCheck();
		calcTotal();
	});
	/*全选*/
	$("#ck_all").click(function(){
		var status=$(this).prop("checked");
		$(".ck").prop("checked",status);
		calcTotal();
	});
	//全部选中
	function allCheck(){
		var len=$(".ck").length;
		var a=0;
		for(var i=0;i<len;i++){
			if($(".ck").eq(i).prop("checked")==true){
				a++;
			}
		}
		if(a==len){
			$("#ck_all").prop("checked", true);
		}else{
			$("#ck_all").prop("checked", false);
		}
	};
	// 合计
	function calcTotal() {
		var element = $(".ck:checked").parents(".weui-media-box__bd").find(".sub");
		var total = 0; // 总金额
		element.each(function(i, e){
			total += parseFloat($(e).text());
		});
		$(".total").text("￥"+total.toFixed(0));
	}
</script>
</body>
</html>